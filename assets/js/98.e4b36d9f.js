(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{820:function(t,s,e){"use strict";e.r(s);var a=e(70),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"writable-stream-functions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#writable-stream-functions"}},[t._v("#")]),t._v(" Writable Stream Functions")]),t._v(" "),e("p",[t._v("Here we will cover the common functions of Writable Streams:")]),t._v(" "),e("p",[e("code",[t._v("writable.write(chunk[, encoding][, callback])")]),t._v(": This method writes the provided data to the stream and calls the callback when there is no more data to stream. If an error occurs, it may not call the callback, so it is good to listen on the '"),e("strong",[t._v("error")]),t._v("' event.\nIt also has a return value which returns true when the internal buffer is less than the limit (highWaterMark). It is recommended to handle the false case with the '"),e("strong",[t._v("drain")]),t._v("' event.")]),t._v(" "),e("p",[t._v("You already saw this method few times in our previous examples, where we wanted to write a data to the file or send it to the client.")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("highWaterMark")]),t._v(" is the stream buffer limit which is "),e("strong",[t._v("16K")]),t._v(" by default. You can access its value by using "),e("strong",[t._v("writableHighWaterMark")]),t._v(" property.")])]),t._v(" "),e("p",[e("code",[t._v("writable.end([chunk][, encoding][, callback])")]),t._v(": This method indicates that no more data will be written to the Writable. The optional chunk gives us the ability to write one last chunk of data before closing the stream. If the callback is provided, it will listen on the '"),e("strong",[t._v("finish")]),t._v("' event. Calling the write() method after the end() will raise an error.")]),t._v(" "),e("p",[t._v("Let's see a simple example:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fs "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" file "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("createWriteStream")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./myFile.txt'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nfile"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A simple text. '")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf-8'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Write complete!'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nfile"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'The end text.'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf-8'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'End complete!'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("The output is a file named '"),e("strong",[t._v("myFile.txt")]),t._v('\' with the body: "A simple text. The end text." and the callbacks outputs are: "Write complete! End complete!"')]),t._v(" "),e("hr"),t._v(" "),e("p",[t._v("The optional encoding parameter is used when we are passing a string. Some of the valid encoding options are "),e("strong",[t._v("ascii")]),t._v(", "),e("strong",[t._v("utf8/utf-8")]),t._v(", "),e("strong",[t._v("base64")]),t._v(", "),e("strong",[t._v("binary")]),t._v(", "),e("strong",[t._v("hex")]),t._v(" and few more, "),e("a",{attrs:{href:"https://stackoverflow.com/questions/14551608/list-of-encodings-that-node-js-supports/14551669#14551669",target:"_blank",rel:"noopener noreferrer"}},[t._v("listed here"),e("OutboundLink")],1),t._v(".")])])}),[],!1,null,null,null);s.default=n.exports}}]);